import{A as i,H as c}from"./index-dcd02f87.js";import{A as r,i as s,c as l}from"./index-5ab355fb.js";const d=document.getElementById("organizationList"),m=document.getElementById("backButton");let e;const g=async()=>{const t=(await i.create()).getIdentity(),a=new c({identity:t});try{window.location.hostname.includes("localhost")&&await a.fetchRootKey()}catch(o){console.error("Failed to fetch root key:",o)}e=r.createActor(s,{agent:a,canisterId:l})},h=async()=>{if(!e){alert("Backend not initialized.");return}try{(await e.getAllOrganizations()).forEach(t=>{const a=document.createElement("li");a.textContent=`ID: ${t.id}, Name: ${t.name}, Owner: ${t.owner}`,d.appendChild(a)})}catch(n){console.error("Failed to load organizations:",n),alert("Failed to load organizations. Please try again.")}};m.addEventListener("click",()=>{window.location.href="./main.html"});(async()=>(await g(),await h()))();
